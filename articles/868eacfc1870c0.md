---
title: "Remix v2ã«Storybookã‚’å°å…¥ã—ã¦ã¿ãŸ"
emoji: "ğŸ¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['Remix', 'Storybook', 'React']
published: 2024-03-29 09:00 
---

### è¨˜äº‹æ›¸ããã£ã‹ã‘

Remixã«Storybookã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸéš›ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ...ğŸ¤¯
vite pluginã® RemixãŒã‚ã‚‹ã¨ãƒ€ãƒ¡ã£ã½ã„...ğŸ¤”

```shell
Running Storybook

> remix-v2.8-storybook@ storybook /Users/ryosukebe/Develop/Remix/remix-v2.8-storybook
> storybook dev -p 6006 "--initial-path=/onboarding" "--quiet"

@storybook/cli v8.0.5

info => Starting manager..
info => Starting preview..
=> Failed to build the preview
Error: The Remix Vite plugin requires the use of a Vite config file
```


### ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª â€» åŸ·ç­†æ™‚(2024.3.29æ™‚ç‚¹)ã§ã®Latest

| ãƒ„ãƒ¼ãƒ«     | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|------------|------------|
| Remix     | v2.8       |
| Storybook | v8.0.5     |

---

## Setup æ‰‹é †

### 1. Remixã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
pnpm dlx create-remix@latest
```

### 2. Storybookã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
pnpm dlx storybook init 
```

ã“ã®æ™‚ç‚¹ã§ã¯ã€å…ˆã»ã©ã®ã‚¨ãƒ©ãƒ¼ã§è¡¨ç¤ºã•ã‚Œãªã„...ğŸ¥º
![è¡¨ç¤ºã§ãã¸ã‚“](https://storage.googleapis.com/zenn-user-upload/a5f779be47b4-20240329.jpeg)


### 3. Storybookç”¨ã®vite-sb.config.tsã‚’ç”Ÿæˆ

storybookç”¨ã®vite configãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

```shell
touch vite-sb.config.ts
```

```typescript:vite-sb.config.ts
import { defineConfig, loadEnv } from 'vite';
import tsconfigPaths from 'vite-tsconfig-paths';

export default defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd(), '');
  process.env = { ...process.env, ...env };
  return {
    plugins: [tsconfigPaths()],
  };
});
```

### 4 .storybook/main.ts ã®ä¿®æ­£

options builder ã‚’åˆ©ç”¨ã—ã¦ã€storybookç”¨ã®vite.configãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š

```diff typescript:main.ts
import type { StorybookConfig } from "@storybook/react-vite";

const config: StorybookConfig = {
  stories: [
    "../stories/**/*.mdx",
    "../stories/**/*.stories.@(js|jsx|mjs|ts|tsx)",
  ],
  addons: [
    "@storybook/addon-onboarding",
    "@storybook/addon-links",
    "@storybook/addon-essentials",
    "@chromatic-com/storybook",
    "@storybook/addon-interactions",
  ],
  framework: {
    name: "@storybook/react-vite",
    options: {
+     builder: {
+       viteConfigPath: 'vite-sb.config.ts',
+     }
    },
  },
  docs: {
    autodocs: "tag",
  },
};
export default config;

```

```shell
$ pnpm storybook         

> remix-v2.8-storybook@ storybook /Users/ryosukebe/Develop/Remix/remix-v2.8-storybook
> storybook dev -p 6006

@storybook/cli v8.0.5

info => Starting manager..
info => Starting preview..
info Using tsconfig paths for react-docgen
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                     â”‚
â”‚   Storybook 8.0.5 for react-vite started            â”‚
â”‚   365 ms for manager and 898 ms for preview         â”‚
â”‚                                                     â”‚
â”‚    Local:            http://localhost:6006/         â”‚
â”‚    On your network:  http://192.168.10.108:6006/    â”‚
â”‚                                                     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
2:03:14 AM [vite] âœ¨ new dependencies optimized: @storybook/blocks, @mdx-js/react
2:03:14 AM [vite] âœ¨ optimized dependencies changed. reloading
2:03:16 AM [vite] âœ¨ new dependencies optimized: react/jsx-dev-runtime
2:03:16 AM [vite] âœ¨ optimized dependencies changed. reloading
```

![è¡¨ç¤ºã§ã‘ãŸï¼](https://storage.googleapis.com/zenn-user-upload/b9ca0e41cc19-20240329.jpeg)

### ã§ã‘ãŸï¼ï¼ï¼âœ¨âœ¨âœ¨

:::message
ä»Šå¾Œã‚‚,ã“ã¡ã‚‰ã®è¨˜äº‹ã¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ğŸ§‘â€ğŸ’»
:::

### Github ã‚½ãƒ¼ã‚¹
https://github.com/mororyou/remix-v2.8-storybook-v8

### å‚è€ƒã‚µã‚¤ãƒˆ

https://github.com/storybookjs/storybook/discussions/25519
